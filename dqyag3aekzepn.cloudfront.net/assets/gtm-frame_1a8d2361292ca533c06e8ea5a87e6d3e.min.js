!function n(i,o,a){function m(r,t){if(!o[r]){if(!i[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(s)return s(r,!0);e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}e=o[r]={exports:{}};i[r][0].call(e.exports,function(t){var e=i[r][1][t];return m(e||t)},e,e.exports,n,i,o,a)}return o[r].exports}for(var s="function"==typeof require&&require,t=0;t<a.length;t++)m(a[t]);return m}({1:[function(t,e,r){window.RemitlyGtmFrame=t("@remitly/gtm-frame").GtmFrame},{"@remitly/gtm-frame":4}],2:[function(t,e,r){e.exports={PROD_IFRAME_FILE:"gtm-frame-v4.2.0-2d7eb04c.html"}},{}],3:[function(t,e,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.GtmFrame=void 0;var n=t("./config.json"),o=t("../types"),a=t("../utils"),m="https://remitly-3pjs.com/gtm-frame/"+n.PROD_IFRAME_FILE,n=(s.prototype.initIframe=function(t,e){var r=this;window.location.origin!==this.targetOrigin&&(this.iframe.setAttribute("sandbox","allow-same-origin allow-scripts"),this.iframe.src=t,this.iframe.style.height="0",this.iframe.style.width="0",this.iframe.style.border="none",this.iframe.style.position="absolute",this.iframe.addEventListener("load",function(){r.iframeLoaded=!0}),document.body.appendChild(this.iframe),e={iframeCommand:o.IframeCommands.INIT,gtmAccount:e},this.postToIframe(e),e={iframeCommand:o.IframeCommands.SPOOF_CONTEXT,iframeTitle:document.title},this.postToIframe(e))},s.prototype.sendEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],n=t[1],n=i(i({},n),{originalUrl:window.location.href,originalReferrer:document.referrer});this.gtmContainerTrusted&&a.emitGtmEvent(r,n),this.gtmContainerUntrusted&&(n={iframeCommand:o.IframeCommands.EMIT_EVENT,gtmEventName:r,gtmEventParams:n},this.postToIframe(n))},s.prototype.postToIframe=function(e){function t(){var t;null!==(t=r.iframe.contentWindow)&&void 0!==t&&t.postMessage(e,r.targetOrigin)}var r=this;this.iframeLoaded?t():this.iframe.addEventListener("load",t)},s);function s(t){this.iframe=document.createElement("iframe"),this.iframeLoaded=!1;var e=(null==t?void 0:t.iframeUrl)||m,r="boolean"!=typeof(null==t?void 0:t.isProd)||t.isProd;this.gtmContainerTrusted=r?"GTM-P652296":"GTM-K4XJNWD",this.gtmContainerTrusted="string"==typeof(null==t?void 0:t.gtmTrusted)?t.gtmTrusted:this.gtmContainerTrusted,this.gtmContainerUntrusted=r?"GTM-WXXZ2BG":"GTM-PPM2JSS",this.gtmContainerUntrusted="string"==typeof(null==t?void 0:t.gtmUntrusted)?t.gtmUntrusted:this.gtmContainerUntrusted,this.targetOrigin=new URL(e).origin,this.gtmContainerTrusted&&a.initGtm(this.gtmContainerTrusted),this.gtmContainerUntrusted&&this.initIframe(e,this.gtmContainerUntrusted)}r.GtmFrame=n},{"../types":5,"../utils":6,"./config.json":2}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GtmEventName=r.GtmFrame=void 0;var n=t("./client/index");Object.defineProperty(r,"GtmFrame",{enumerable:!0,get:function(){return n.GtmFrame}});var i=t("./types");Object.defineProperty(r,"GtmEventName",{enumerable:!0,get:function(){return i.GtmEventName}})},{"./client/index":3,"./types":5}],5:[function(t,e,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.IframeCommands=r.GtmEventName=void 0,(n=r.GtmEventName||(r.GtmEventName={})).PAGEVIEW="pageview",n.FTT="ftt",n.NTH="nth",n.SIGNUP="signup",n.ADD_TO_CART="add-to-cart",n.REGISTRATION_VERIFIED="registration-verified",(r=r.IframeCommands||(r.IframeCommands={})).INIT="init",r.EMIT_EVENT="emit-event",r.SPOOF_CONTEXT="spoof-context"},{}],6:[function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.emitGtmEvent=r.initGtm=void 0,r.initGtm=function(t){!function(t,e,r,n){t[r]=t[r]||[],t[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});r=e.getElementsByTagName("script")[0],e=e.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtm.js?id="+n,null!==(n=r.parentNode)&&void 0!==n&&n.insertBefore(e,r)}(window,document,"dataLayer",t)},r.emitGtmEvent=function(t,e){(e=n({},e)).event=t,window.dataLayer.push(e)}},{}]},{},[1]);
//# sourceMappingURL=http://remitlyweb-assets-prod.int.remitly.com/assets/gtm-frame_1a8d2361292ca533c06e8ea5a87e6d3e.min.js.map
